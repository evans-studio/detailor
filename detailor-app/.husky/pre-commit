#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Block hardcoded Tailwind color utilities being committed
echo "Running color token guard..."
FAILED=$(git diff --cached --name-only | grep -E '\.(tsx|ts|jsx|js|css|mdx)$' | xargs -I{} grep -nE "(bg|text|border|ring|from|to)-(red|blue|green|yellow|pink|purple|indigo|slate|gray|neutral|stone|orange|amber|lime|emerald|teal|cyan|sky|violet|fuchsia|rose)-[0-9]{2,3}" {} || true)
if [ -n "$FAILED" ]; then
  echo "\nâ›” Found hardcoded Tailwind color utilities. Please replace with semantic tokens (e.g., bg-[var(--color-primary)])."
  echo "$FAILED"
  exit 1
fi

echo "Color token guard passed."

